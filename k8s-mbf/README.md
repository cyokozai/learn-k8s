# つくって、壊して、直して学ぶ Kubernetes 入門

## 目次

- [つくって、壊して、直して学ぶ Kubernetes 入門](#つくって壊して直して学ぶ-kubernetes-入門)
  - [目次](#目次)
  - [第一章 | 作ってみよう Kubernetes](#第一章--作ってみよう-kubernetes)
    - [コンテナ](#コンテナ)
    - [Docker](#docker)
    - [なぜコンテナを使うのか？](#なぜコンテナを使うのか)
      - [仮想マシン (VM) よりも高速にアプリケーションを起動できるようになった](#仮想マシン-vm-よりも高速にアプリケーションを起動できるようになった)
      - [マイクロサービスアーキテクチャとコンテナの相性が良い](#マイクロサービスアーキテクチャとコンテナの相性が良い)
    - [Docker のインストール (Ubuntu)](#docker-のインストール-ubuntu)
    - [Docker の基本コマンド](#docker-の基本コマンド)

## 第一章 | 作ってみよう Kubernetes

### コンテナ

コンテナは**アプリケーションとその実行環境をパッケージ化したもの**である。  
コンテナは名前空間 (namespace) や cgroup により通常のプロセスから隔離された仮想環境である。  
したがって、通常コンテナ内部のプロセスを外部から参照することはできない。  
ただし、`docker exec` コマンドや `nsenter` コマンドを用いると、ホストからコンテナのプロセス空間に対してアクセスすることが可能である。  

### Docker

Docker はコンテナ仮想化技術の一つであり、**コンテナを作成・実行・管理するためのツール**である。  
Dockerfile, Docker image, Docker Hub とこれら一連の操作を提供する Docker CLI により、ユーザにとって一連のライフサイクルを扱いやすくしてくれている。  

### なぜコンテナを使うのか？

Docker の登場以来、コンテナ仮想化技術を採用した開発・運用は盛んに行われている。  
ではなぜコンテナを選ぶケースが増えているのか。  
ここでは主に2つの理由について解説する。  

#### 仮想マシン (VM) よりも高速にアプリケーションを起動できるようになった



#### マイクロサービスアーキテクチャとコンテナの相性が良い



### Docker のインストール (Ubuntu)

[Docker CE の入手](https://docs.docker.jp/engine/installation/linux/docker-ce/ubuntu.html)を参照。

### Docker の基本コマンド

- イメージを取得  
  (公式の nginx コンテナイメージをダウンロード)

    ```shell
    docker pull nginx
    ```

- コンテナを起動  
  (nginx をバックグラウンドで起動し、8080 でアクセス可能にする)

    ```shell
    docker run -d -p 8080:80 nginx
    ```

- 実行中のコンテナを確認

    ```shell
    docker ps
    ```

- コンテナを停止

    ```shell
    docker stop <コンテナID>
    ```

- コンテナを削除

    ```shell
    docker rm <コンテナID>
    ```

- イメージを削除

    ```shell
    docker rmi <イメージID>
    ```
